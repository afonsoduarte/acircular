// ==================== //
// 0. Variables
// ==================== //

$columnWidth: 45px;
$gutter: 40px;
$lineHeight: 22px; //baseline
$fontSize: 18px; //16px
$smallFontSize: .8125em; //13px | .875em; //14px

@mixin small-size {
  font-size: $smallFontSize;
  line-height: 20px;
}

@function column_width($n) {
  @return ( $n * ( $columnWidth + $gutter ) ) - $gutter;
}

@mixin columns($n) {
  width: column_width($n);
  margin-left: $gutter;
}

@mixin full_width {
  width: column_width(12) + $gutter;
}

@mixin shift($n) {
  margin-left: (2 * $gutter) + column_width($n);
}

h1, h2, h3, h4, b, strong {
  font-weight: normal;
}

// ==================== //
// 1. ROOT
// ==================== //

html {
  margin: 0 auto;

  // background: #c7e0de; /* Old browsers */
  // background: -moz-linear-gradient(top, #c7e0de 0%, #f7f2d2 100%); /* FF3.6+ */
  // background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#c7e0de), color-stop(100%,#f7f2d2)); /* Chrome,Safari4+ */
  // background: -webkit-linear-gradient(top, #c7e0de 0%,#f7f2d2 100%); /* Chrome10+,Safari5.1+ */
  // background: -o-linear-gradient(top, #c7e0de 0%,#f7f2d2 100%); /* Opera 11.10+ */
  // background: -ms-linear-gradient(top, #c7e0de 0%,#f7f2d2 100%); /* IE10+ */
  // background: linear-gradient(to bottom, #c7e0de 0%,#f7f2d2 100%); /* W3C */
  // filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#c7e0de', endColorstr='#f7f2d2',GradientType=0 ); /* IE6-9 */

  background: white;

}
/* 'AkzidenzGroteskBQ-Reg', 'AkzidenzGroteskBQ-Medium', AkzidenzGrotesk-Roman, 'AvenirLTStd-Medium', 'AvenirLTStd-Roman', */
body {
  font-family: 'Grotesque MT', serif;
  text-rendering: optimizeLegibility;

  font-size: $fontSize;
  line-height: $lineHeight;
  margin: 0 auto;
  width: column_width(12);

  @include cf;

  &.home {
    width: column_width(14);
  }

  &.au {
    @include trnsfrm(rotate(180deg));
    @include transform-origin(center);
    
  }
}

hr {
  clear: both;
  border: 1px solid;
  border-bottom: none;
  margin: 2 * $lineHeight 0;
}

p {
  margin: 0;
}

p + p {
  text-indent: 2em;
}

p + ul {
  margin-top: $lineHeight;
}

h1,
h2,
h3 {
  font-size: $fontSize;
}

h2 {
  margin: $lineHeight 0 0;
}

em,
i {
}

// ==================== //
// 2. LINKS
// ==================== //

a {
  color: black;
  text-decoration: none;
  border-bottom: 1px solid black;
}

// ==================== //
// 3. HEADER
// ==================== //

#page-header {
  padding-top: $lineHeight * 1.5;

  h1 {
    text-align: center;
    text-transform: uppercase;
    margin: 0 0 $lineHeight;

    a {
      border-bottom: none;
      letter-spacing: 0.1em;

      .a {
        margin-left: -0.1em;
      }
    }
  }
}

// ==================== //
// 4. NAV
// ==================== //
 
nav {
  text-align: center;
  h1 {
    @include visuallyhidden;
  }
}
ul#navigation {
  text-align: center;
  padding: $lineHeight 0;
  display: inline;

  li {
    display: inline;
    margin-right: 12px;

    a {
      border-bottom: 1px solid;
    }

    &:last-child{ 
      margin-right: 0;
    }

    &.active a,
    .home &.work a {
        border-bottom: none;
    }
  }

  ol.children {
   @include visuallyhidden;
  }
} 
  


// ==================== //
// 5. CONTENT           //
// ==================== //

.main {
  padding-top: 0;
  @include cf;
}

//// 5.1.1 Index page ////

ul.projects {
  list-style: none;
  padding: 0;

  li {
    float: left;
    text-align: center;
    margin-bottom: 2 * $lineHeight;

    .thumb-wrapper {
      width: 100%;
      height: 14 * $lineHeight;
      overflow: hidden;

      img {
        max-width: 100%;
      }
    }

    h2 {
      margin-top: $lineHeight / 2;
      margin-bottom: 0;
      font-weight: normal;
    }
    p {
      margin-top: 0;
    }
    a {
      border-bottom: none;
    }
  }
}

//// 5.1.2 Showcase Page ////

section.showcase {
  list-style: none;
  padding: 0;

  h1.section-title {
    @include visuallyhidden;
  }

  article {
    float: left;
    clear: left;
    width: 100%;
    text-align: center;
    margin-bottom: 3 * $lineHeight;
    padding-top: 3 * $lineHeight;

    .media {
      height: 600px;
      ul.images {
        list-style: none;
        margin: 0;
        padding: 0;
      }
    }
    
    header {
      clear: left;

      h1 {
        margin-top: 3px;
        margin-bottom: 0;
        font-weight: normal;
        text-transform: uppercase;
        letter-spacing: 0.1em;
      }
      p {
        margin-top: 0;
        font-weight: normal;
        @include small-size;
      }
      a {
        border-bottom: none;
      }      
    }

    .category {
      margin-top: $lineHeight/2;
      @include small-size;
      
    }

    .footnotes {
      @include small-size;
      
      
    }

    .description {
      padding: $lineHeight/2 $gutter 0 0;
      text-align: left;

      .project-title {
        text-align: left;
        text-indent: 0;
        margin: $lineHeight/2 0 $lineHeight/2 2em;
      }
    }
  }
}

// js enabled //

.js section.showcase {
  article {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

    .read-more {
      cursor: pointer;
      @include small-size;
      
      a span{ border-bottom: 1px solid; }

      .less {
        display: none;
      }
    }
    
    .content { 
      position: relative; 

      .description {
        position: absolute;
        bottom: 50%;
        left: 50%;
        margin-left: -277px; // - (column_width(6) + $gutter)/2;
        padding: $lineHeight;
        background: rgba(255, 255, 255, 1);
        width: column_width(6) + $gutter;
        z-index: 10;

        -webkit-touch-callout: text;
        -webkit-user-select: text;
        -khtml-user-select: text;
        -moz-user-select: text;
        -ms-user-select: text;
        user-select: text;

        display: none;
      }
    }

    &.description-active {
      .content {
        .media {
          // opacity: 0;
        }
        .image-counter {
          // opacity: 0;
        }
        .description {
          display: block;
        }
      }
      .read-more {
        .more {
          display: none;
        }
        .less {
          display: inline;
        }
      }
    }
  }
}

//// 5.3 About Page ////
.about {

  p + p {
    text-indent: 1.5em;
  }

  .main {
    @include full_width;
    margin: 0 0 0 (- $gutter);

    section {
      @include columns(4);
      float: left;

      &#about {
        @include columns(8);
        margin-bottom: $lineHeight;
      }

      &#address {
        //@include shift(2);  
      }

      &#exhibitions {
        clear: left;
      }

      h1 {
        margin: $lineHeight 0;
        text-transform: uppercase;
        letter-spacing: 0.1em;
      }

      h1 + h2 {
        margin-top: 0;
      }

      p + h1 {
        margin-top: 2 * $lineHeight;
      }

      ul {
        list-style: none;
        padding: 0;
      }
    }
  }
}

//// 5.4 Blog page ////
.blog {
  .main {
  }
  article {
    clear: both;
    width: column_width(6);
    margin: (3 * $lineHeight) auto (6 * $lineHeight);
    @include cf;

    header {
      margin-top: $lineHeight/2;
      margin-left: 0;
      text-align: center;

      time {
        @include small-size;
        
      }
      
      h1 {
        margin: 3px 0 $lineHeight;
      }
    }

    .content {
      @include columns(6);
      margin-left: 0;
    }

    .media {
      width: column_width(6);
      text-align: center;

      ul.images {
        list-style: none;
        margin: 0;
        padding: 0;
      }
    }
  }
}


/* MODULES */

.js article {

  &.gallery {
    .image-counter {
      padding-top: $lineHeight;
      @include small-size;
      
    }

    .media {
      margin: 0 auto;
      overflow: hidden;

      ul.images {
        li.image {
          display: none;

          &.show {
            display: block;
          }

          img {
            max-width: 100%;
            max-height: 600px;  
          }
        }
      }   
    } 
  }
}

%btn {
  height: 650px;
  width: 45%;
  position: absolute;  
  cursor: pointer;
  z-index: 9;
  border: none;
  background: rgba(255,255,255,0);

  .lt-ie9 & {
    background: white;
    filter: alpha(opacity = 0);
  }
}

.prev-btn {
  @extend %btn;
  left: 20px;
  cursor: w-resize;
  
  text-align: left;
  padding-top: 300px;

  // &:before{
  //   content: '\3008';
  //   padding-top: 300px;
  //   font-size: 3em;
  //   opacity: 0;
  // }

  // &:hover:before{
  //   opacity: 1;
  // }
}

.next-btn {
  @extend %btn;
  right: 20px;
  cursor: e-resize;

  text-align: right;
  padding-top: 300px;

  // &:after{
  //   content: '>';
  //   padding-top: 300px;
  //   font-size: 3em;
  //   opacity: 0;
  // }

  // &:hover:after{
  //   opacity: 1;
  // }
}

.close-btn {
  position: absolute;
  right: 10px;
  top: 5px;
  cursor: pointer;
  @include small-size;
  border: none;
}

.back-to-top {
  text-align: center;
  @include small-size;  
  padding: (7 * $lineHeight) 0 (1.5 * $lineHeight);
}

.footnote {
  margin-top: $lineHeight/2;
  @include small-size; 
  text-indent: 0;   
}